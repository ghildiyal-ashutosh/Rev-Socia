<div class ="container-fluid">
  <br/>
  <div class ="btn-group float-left">
    <button class = "btn btn-success" routerLink="/work/createWork"> Work-Garage</button>
    <button class = "btn btn-primary" routerLink="/reviewer/{{user._id}}"> Reviewer Profile</button>
  </div>

  <div class ="btn-group float-right">
    <button class = "btn btn-danger" (click)="logout()" > Log-Out</button>
    <button class = "btn btn-primary" routerLink= '/home'> Home </button>
    <button class = "btn btn-light" routerLink="/admin" [hidden]="!adminStatus"> Admin</button>
  </div>
  <br>
  <br/>


  <h2> Welcome {{user.username}} </h2>

    <div class="form-group row">
      <label for= "roleFld" class="col-sm-2 col-form-label">Role</label>
      <div class="col-sm-10">
        <input   name = "first" [(ngModel)] = "role"   readonly = "readonly"
                type= "text" class="form-control" id="roleFld" placeholder="No Role Given">
      </div>
    </div>

  <form #f="ngForm" (ngSubmit)="updateUser()">


    <button class="btn btn-danger float-right btn" type="reset" value="Reset"> Reset </button>
    <br/>
    <br/>

    <div class="form-group row">
      <label for="firstNameFld" class="col-sm-2 col-form-label">First-Name</label>
      <div class="col-sm-10">
        <input  [(ngModel)] = "firstName" name = "first"
                type= "text" class="form-control" id="firstNameFld" placeholder="First Name">
      </div>
    </div>


    <div class="form-group row">
      <label for="lastNameFld" class="col-sm-2 col-form-label">Last-Name</label>
      <div class="col-sm-10">
        <input [(ngModel)] = "lastName" name ="last"
               type="text" class="form-control" id="lastNameFld" placeholder="Last Name">
      </div>
    </div>


    <div class="form-group row">
      <label for="emailFld" class="col-sm-2 col-form-label">Email</label>
      <div class="col-sm-10">
        <input  [(ngModel)] = "email"  name ="mail"
                type="text" class="form-control" id="emailFld" placeholder="Email" required = "required">
      </div>
    </div>

    <div class="form-group row">
      <label for="contactFld" class="col-sm-2 col-form-label">Contact</label>
      <div class="col-sm-10">
        <input [(ngModel)] = "contact" name ="con"
               type="number" class="form-control" id="contactFld" placeholder="Contact">
      </div>
    </div>
    <br/>

    <button type="submit" class="btn btn-success mb-2 form-control">Update</button>

  </form>

  <div>
    <h4> List of Work Submitted/Created</h4>
    <br/>
    <ul class = "list-group">
      <li class = "list-group-item active">
        <div class = "row">
          <div class = "col-2">
            Work Title
          </div>
          <div class = "col-2">
            Crypto Debited
          </div>
          <div class = "col-4">
            Date of Creation
          </div>
          <div class = "col-3">
            Reviews
          </div>
          <div class = "col-1">
            Delete
          </div>
        </div>
      </li>

      <li *ngFor = "let work of userWork.works"
          class = "list-group-item">
        <div class = "row">
          <div class = "col-2">
            {{work.title}}
          </div>
          <div class = "col-2">
            {{work.points}}
          </div>
          <div class ="col-4">
            {{work.timeStamp}}
          </div>
          <div class = "col-3">
            <button (click) = "findAllWorkReviews(work)"> See Reviews</button>
          </div>

          <div class= "col-1 icons ">
            <i (click)="deleteWork(work)" class =  "fa fa-trash fa-3x"></i>
          </div>

        </div>
      </li>
    </ul>
  </div>
<br/>
  <br/>
  <br/>

  <div [hidden]="viewReviews">
    <h4> Reviews</h4>
  <ul class ="list -group">
    <li class ="list-group-item active">
      <div class = "row">
        <div class = "col-2"> Reviewer </div>
        <div class = "col-1"> Score </div>
        <div class = "col-4"> Date & Time </div>
        <div class = "col-4"> Reviews </div>
        <div class="col-1">Upvote</div>
      </div>
    </li>
    <li *ngFor="let review of workReviews"
      class ="list-group-item">
      <div class = "row">

        <div class = "col-2"> {{review.reviewer.title}} </div>
      <div class = "col-1"> {{review.score}}</div>
      <div class = "col-4"> {{review.timeStamp}} </div>
      <div class = "col-4"> <button class="btn btn-primary"
              (click)="seeReview(review)"> See Review
      </button>
      </div>
      </div>

    </li>
  </ul>
  </div>

  <div [hidden]="detailReview">
    <br/>
    <h3>Detailed Review</h3>
    <p> {{this.review.review}}</p>
    <br/>
  </div>
</div>
